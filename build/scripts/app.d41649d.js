webpackJsonp([0],{0:function(e,t,n){e.exports=n(1)},1:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,a){var r={};return"all"!=t&&(r.harmonic_key_type=t),"all"!=n&&(r.orchestral_preset=n),"all"!=a&&(r.tempo_classification=a),d["default"].isEmpty(r)?e:d["default"].filter(e,r)}n(2);var o=n(6),i=a(o),s=n(163),u=a(s),c=n(164),d=a(c),f=n(166),p=a(f),m=n(176),g=a(m),h=n(168),b=a(h);window._=d["default"];var v=i["default"].createClass({displayName:"Header",render:function(){return i["default"].createElement("div",{className:"header"},i["default"].createElement("div",{className:"header-left"},i["default"].createElement("img",{className:"title-image",src:n(174)})),i["default"].createElement("div",{className:"header-right"},i["default"].createElement("img",{src:n(175)})))}}),y=100,E=0,x=!1,N=i["default"].createClass({displayName:"App",getInitialState:function(){return{songs:[],mood:"all",orcestration:"all",tempo:"all"}},componentDidMount:function(){var e=this;this.fetchSongs(),window.onscroll=d["default"].throttle(function(){var t=document.documentElement,n=(window.pageYOffset||t.scrollTop)-(t.clientTop||0),a=void 0!==document.height?document.height:document.body.offsetHeight;2e3>a-n&&(E+=y,x||e.fetchSongs())},100)},fetchSongs:function(){var e=this;b["default"].get("http://localhost:8877/songs").query({limit:y,offset:E}).end(function(t,n){var a=n.body.map(function(e){return e.playing=!1,e});0==a.length?x=!0:e.setState({songs:e.state.songs.concat(a)})})},playSong:function(e){var t=this.state.songs,n=d["default"].find(t,{_id:e});n.playing?n.playing=!1:(d["default"].each(t,function(e){e.playing=!1}),n.playing=!0),this.forceUpdate()},changeFilter:function(e,t){this.setState(r({},e,t))},playNext:function(e){var t=this.state.songs,n=d["default"].findIndex(t,{_id:e});this.playSong(t[n+1]._id)},playPrevious:function(e){var t=this.state.songs,n=d["default"].findIndex(t,{_id:e});this.playSong(t[n+1]._id)},render:function(){var e=this.playNext,t=this.playSong,n=this.playPrevious,a=this.changeFilter,r=this.state,o=r.songs,s=r.mood,u=r.orcestration,c=r.tempo,d=l(o,s,u,c);window.songs=o;var f=null;return i["default"].createElement("div",null,i["default"].createElement(v,null),i["default"].createElement(p["default"],{playNext:e,playSong:t,songs:d}),i["default"].createElement(g["default"],{playNext:e,playPrevious:n,currentlyPlaying:f,mood:s,orcestration:u,tempo:c,changeFilter:a}))}}),S=document.getElementById("container"),C=i["default"].createElement(N,null);u["default"].render(C,S)},2:function(e,t,n){var a=n(3);"string"==typeof a&&(a=[[e.id,a,""]]);n(5)(a,{});a.locals&&(e.exports=a.locals)},3:function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"@import url(http://fonts.googleapis.com/css?family=Tangerine);",""]),t.push([e.id,".header{margin:30px}.header>div{display:inline-block}.header img{width:100%}.title-image{opacity:.7;margin-top:20px}.header-left{max-width:60%;width:600px}.header-right{max-width:35%;width:400px;float:right}.playlist{margin:130px auto;max-width:800px}.song{margin:5px;padding:10px;border-bottom:1px solid #ccc}.song .info{cursor:pointer}.song .info .icon{font-size:18px;margin:0 7px;color:#555}.song .info .song-title{color:#555;fontSize:20px;font-family:Tangerine;font-size:45px;vertical-align:middle}.song .p-bar{cursor:pointer;-webkit-transition:all .7s linear;-moz-transition:all .7s linear;-ms-transition:all .7s linear;-o-transition:all .7s linear;width:99%;height:0;background-color:#ddd;margin:0 auto}.song .p-bar .inner-p-bar{width:0;-webkit-transition:all .1s linear;-moz-transition:all .1s linear;-ms-transition:all .1s linear;-o-transition:all .1s linear;background-color:#555;height:100%}.song .p-bar.playing{height:12px;margin:8px auto 14px}.footer{position:fixed;bottom:0;width:100%;background-color:#fff;border-top:1px solid #ccc}.footer .filters{max-width:1100px;width:100%;margin:20px auto;text-align:center}.footer .filters .form-group{display:inline-block!important;margin:10px 15px}",""])},4:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var l=this[r][0];"number"==typeof l&&(a[l]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&a[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},5:function(e,t,n){function a(e,t){for(var n=0;n<e.length;n++){var a=e[n],r=p[a.id];if(r){r.refs++;for(var l=0;l<r.parts.length;l++)r.parts[l](a.parts[l]);for(;l<a.parts.length;l++)r.parts.push(u(a.parts[l],t))}else{for(var o=[],l=0;l<a.parts.length;l++)o.push(u(a.parts[l],t));p[a.id]={id:a.id,refs:1,parts:o}}}}function r(e){for(var t=[],n={},a=0;a<e.length;a++){var r=e[a],l=r[0],o=r[1],i=r[2],s=r[3],u={css:o,media:i,sourceMap:s};n[l]?n[l].parts.push(u):t.push(n[l]={id:l,parts:[u]})}return t}function l(e,t){var n=h(),a=y[y.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function i(e){var t=document.createElement("style");return t.type="text/css",l(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",l(e,t),t}function u(e,t){var n,a,r;if(t.singleton){var l=v++;n=b||(b=i(t)),a=c.bind(null,n,l,!1),r=c.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),a=f.bind(null,n),r=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(t),a=d.bind(null,n),r=function(){o(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}function c(e,t,n,a){var r=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=E(t,r);else{var l=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(l,o[t]):e.appendChild(l)}}function d(e,t){var n=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,a=t.sourceMap;a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var r=new Blob([n],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(r),l&&URL.revokeObjectURL(l)}var p={},m=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},g=m(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=m(function(){return document.head||document.getElementsByTagName("head")[0]}),b=null,v=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=g()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return a(n,t),function(e){for(var l=[],o=0;o<n.length;o++){var i=n[o],s=p[i.id];s.refs--,l.push(s)}if(e){var u=r(e);a(u,t)}for(var o=0;o<l.length;o++){var s=l[o];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete p[s.id]}}}};var E=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},163:function(e,t,n){"use strict";e.exports=n(8)},166:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=n(6),o=a(l),i=n(163),s=(a(i),n(164)),u=(a(s),n(167)),c=a(u),d=o["default"].createClass({displayName:"Playlist",render:function(){var e=this.props,t=e.playSong,n=e.playNext,a=e.songs,l=a.map(function(e){return o["default"].createElement(c["default"],r({},e,{key:e._id,playSong:t,onEnd:n}))});return o["default"].createElement("div",{className:"playlist"},l)}});t["default"]=d},167:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),l=a(r),o=n(163),i=a(o),s=n(164),u=(a(s),l["default"].createClass({displayName:"AudioPlayer",componentDidMount:function(){var e=this,t=this.props,n=t.playing,a=t.onProgress,r=t.onEnd;this.el=i["default"].findDOMNode(this.refs.audio_tag),n&&this.play(),this.el.ontimeupdate=function(){a(e.el.currentTime/e.el.duration)},this.el.onended=function(){e.el.currentTime=0,r()}},componentWillReceiveProps:function(e){var t=this.props.playing;e.playing&&!t?this.play():!e.playing&&t&&this.stop()},play:function(){this.el.play()},stop:function(){this.el.pause()},seekPercent:function(e){this.el.currentTime=this.el.duration*e},render:function(){var e=this.props.url;return l["default"].createElement("audio",{ref:"audio_tag",src:e})}})),c=l["default"].createClass({displayName:"Song",getInitialState:function(){return{progress:0}},onProgress:function(e){this.setState({progress:e})},seekProgress:function(e){e.stopPropagation(),e.preventDefault();var t=e.clientX,n=this.refs.p_bar;this.refs.player.seekPercent((t-n.offsetLeft)/n.offsetWidth)},onEnd:function d(){var e=this.props,d=e.onEnd,t=e._id;d(t)},render:function(){var e=this.state.progress,t=this.props,n=t._id,a=t.title,r=t.url,o=t.playing,i=t.playSong,s={width:100*e+"%"},c=o?{}:{height:"0px",border:"0px solid #aaa"};return l["default"].createElement("div",{className:"song",key:n},l["default"].createElement("div",{className:"info",onClick:i.bind(null,n)},l["default"].createElement("span",{className:"icon"},l["default"].createElement("span",{className:"glyphicon glyphicon-"+(o?"pause":"play")})),l["default"].createElement("span",{className:"song-title"},a)),l["default"].createElement("div",{className:"p-bar "+(o?"playing":""),style:c,onClick:this.seekProgress,ref:"p_bar"},l["default"].createElement("div",{className:"inner-p-bar",style:s})),l["default"].createElement(u,{playing:o,url:r,onProgress:this.onProgress,ref:"player",onEnd:this.onEnd}))}});t["default"]=c},174:function(e,t,n){e.exports=n.p+"606917964b3c3ecb112cec883686673e.png"},175:function(e,t,n){e.exports=n.p+"8f3b3d300d52b80b4182650a74c56710.png"},176:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var l=n(6),o=a(l),i=n(163),s=(a(i),n(164)),u=(a(s),o["default"].createClass({displayName:"Footer",render:function(){var e,t,n,a=this.props,l=a.mood,i=a.orcestration,s=a.tempo,u=a.changeFilter;return o["default"].createElement("div",{className:"footer"},o["default"].createElement("div",{className:"filters"},o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Mood  "),o["default"].createElement("div",(e={className:"form-control"},r(e,"className","btn-group"),r(e,"role","group"),r(e,"aria-label","..."),e),o["default"].createElement("button",{type:"button",className:"btn btn-default "+("all"==l?"active":""),onClick:u.bind(null,"mood","all")}," All "),o["default"].createElement("button",{type:"button",className:"btn btn-default "+("Major"==l?"active":""),onClick:u.bind(null,"mood","Major")}," 😊   "),o["default"].createElement("button",{type:"button",className:"btn btn-default "+("Minor"==l?"active":""),onClick:u.bind(null,"mood","minor")}," 😔   "))),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Orchestration  "),o["default"].createElement("div",(t={className:"form-control"},r(t,"className","btn-group"),r(t,"role","group"),r(t,"aria-label","..."),t),o["default"].createElement("button",{type:"button",className:"btn btn-default "+("all"==i?"active":""),onClick:u.bind(null,"orcestration","all")},"All"),o["default"].createElement("button",{type:"button",className:"btn btn-default "+("Strings Concertino"==i?"active":""),onClick:u.bind(null,"orcestration","Strings Concertino")},"Strings Concertino"),o["default"].createElement("button",{type:"button",className:"btn btn-default "+("Strings Tutti"==i?"active":""),onClick:u.bind(null,"orcestration","Strings Tutti")},"Strings Tutti"),o["default"].createElement("button",{type:"button",className:"btn btn-default "+("Strings Pizzicato"==i?"active":""),onClick:u.bind(null,"orcestration","Strings Pizzicato")},"Strings Pizzicato"))),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Tempo  "),o["default"].createElement("div",(n={className:"form-control"},r(n,"className","btn-group"),r(n,"role","group"),r(n,"aria-label","..."),n),o["default"].createElement("button",{type:"button",className:"btn btn-default "+("all"==s?"active":""),onClick:u.bind(null,"tempo","all")},"All"),o["default"].createElement("button",{type:"button",className:"btn btn-default "+("Allegro"==s?"active":""),onClick:u.bind(null,"tempo","Allegro")},"Allegro"),o["default"].createElement("button",{type:"button",className:"btn btn-default "+("Lento"==s?"active":""),onClick:u.bind(null,"tempo","Lento")},"Lento"),o["default"].createElement("button",{type:"button",className:"btn btn-default "+("Presto"==s?"active":""),onClick:u.bind(null,"tempo","Presto")},"Presto")))))}}));t["default"]=u}});
//# sourceMappingURL=app.d41649d.js.map